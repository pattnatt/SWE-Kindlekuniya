<!DOCTYPE HTML>
<html>
    <head>
            <title>Cart</title>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
            <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    </head>

    <body>

        <style>
         
         .hidden-xs{
                font-size: 90%;
            }

            .col{
                padding: 20px;
            }
        </style>
        <script type="text/javascript">
         var total = 0;
         var shipping = 0;
        </script>
       
        <div class="container">

                <div class="row">
                        <div class="col" ></div>
                        <div class="col" ></div>
                        <div class="col" ></div>
                        <div class="col" >
                                <div class="card bg-success text-white">
                                        <div class="card-body"><i class="fa fa-angle-double-right"></i> Result</div>
                                      </div>
                        </div>
                      </div>

                <table id="cart" class="table table-responsive">
                        <thead>
                            <tr class="names">
                                <th style="width:50%">Product</th>
                                <th style="width:10%" class="text-right">Price</th>
                                <th style="width:15%" class="text-right">Quantity</th>
                                <th style="width:10%" class="text-right">Amount</th>
                                <th style="width:5%"></th>
                            </tr>
                        </thead>

                        {% for book, quantity in cart_item_list.items %}
                        <tbody class="cart-header" id="{{book.product_id}}">

                            <tr class="item">
                                <td data-th="Product">

                                    <div class="row">
                                        <div class="col-sm-3 hidden-xs"><img src="{{book.picture_url.url}}" alt="Converse" class="img-product img-responsive img-rounded img-fluid"/></div>
                                        <div class="col-sm-9">
                                            <h4 class="nomargin">{{book.name}}</h4>
                                        </div>
                                    </div>
                                </td>
                                <td data-th="Price" class="text-right hidden-xs">

                                    {{book.price|floatformat:2}}

                                </td>



                                <td data-th="Quantity" class="text-right">

                                    <p id="demo">{{quantity}}</p>


                                </td>
                                <script type="text/javascript">
                                    total += {% widthratio book.price 1 quantity %};
                                   </script>


                                {% endfor %}




                            </tr>
                        </tbody>





                        <tfoot>
                            <tr>
                                <td></td>
                                <td class="hidden-xs" colspan="2"></td>
                                <td class="text-right">Total</td>
                                <td class="text-right">
                                    <strong>
                                        <script type="text/javascript">
                                            document.write(total+ " THB");

                                           </script>
                                    </strong>
                                </td>
                                <td></td>

                            </tr> 

                            <tr>
                                    <td></td>
                                    <td class="hidden-xs" colspan="2"></td>
                                    <td class="text-right">Shipping</td>
                                    <td class="text-right">
                                        <strong>
                                            <script type="text/javascript">
                                                document.write(shipping+ " THB");

                                               </script>
                                        </strong>
                                    </td>
                                    <td></td>

                            </tr> 

                            <tr>
                                    <td></td>
                                    <td class="hidden-xs" colspan="2"></td>
                                    <td class="text-right">Total + Shipping</td>
                                    <td class="text-right">
                                        <strong>
                                            <script type="text/javascript">
                                                document.write(shipping+total+ " THB");

                                               </script>
                                        </strong>
                                    </td>
                                    <td></td>

                            </tr>

                            <tr class="no-border">
                                <td><a href="{% url 'Catalog:index' %}" class="btn btn-default "><i class="fa fa-angle-left"></i> Continue Shopping</a></td>
                                <td colspan="2" class="hidden-xs"></td>
                                <td></td>
                                <td><a href="{% url 'cart:payment' %}" class="btn btn-success btn-block">Process To Payment <i class="fa fa-angle-right"></i></a></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

        </div>



    </body>
    <script>

    </script>
</html>
